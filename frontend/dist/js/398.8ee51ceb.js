"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[398],{9398:function(e,s,t){t.r(s),t.d(s,{default:function(){return w}});var r=t(1653),n=t(4562),a=t(7394),o=t(7808),l=function(){var e=this,s=e._self._c;return e.user?e._e():s("form",{staticClass:"mx-auto auth-form px-5",on:{submit:function(s){return s.preventDefault(),e.login.apply(null,arguments)}}},[s("h2",{staticClass:"mb-5 mt-8"},[e._v("Log In")]),s(a.cu,[e.error?s(r.Z,{staticClass:"alert_error mb-5",attrs:{type:"error",color:"red"}},[e._v(" "+e._s(e.error)+" ")]):e._e()],1),s(a.cu,[e.newUser?s(r.Z,{staticClass:"mb-5",attrs:{type:"success"}},[e._v(" Hello, "),s("b",[e._v(e._s(e.newUser)+"!")]),e._v(" You can log in now. ")]):e._e()],1),s(o.Z,{attrs:{label:"Username",solo:"",placeholder:"Type In Your Username"},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),s(o.Z,{attrs:{label:"Password",solo:"","hide-details":"",type:"password",placeholder:"Type In Your Password"},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),s("hcaptcha",{staticClass:"mt-5 mb-3",attrs:{sitekey:e.sitekey},on:{verify:e.verifyCaptcha,reset:function(s){e.token=null}}}),s("div",{staticClass:"d-flex"},[s(n.Z,{attrs:{rounded:"",type:"submit",loading:e.loggingIn}},[e._v("Log In")]),s("router-link",{staticClass:"ml-auto text-decoration-none",attrs:{to:e.loggingIn?"":"/register"}},[s(n.Z,{attrs:{rounded:""}},[e._v("Register")])],1)],1)],1)},i=[],u=t(629),c=t(2971),d=t.n(c),p=t(8661),g={name:"Login",components:{hcaptcha:d()},data:()=>({username:null,password:null,error:null,token:null,loggingIn:!1}),computed:(0,u.rn)(["newUser","user","loading","sitekey"]),async created(){const{setLoading:e}=this;await(0,p.yR)(),e(!1)},methods:{async login(){const{username:e,password:s,setNewUser:t,token:r,handleLogin:n}=this;if(t(null),!e?.trim()||!s?.trim())return this.error="Fill in all fields!";if(!r?.trim())return this.error="Captcha cannot be empty!";this.loggingIn=!0;const{errorMessage:a}=await n({username:e,password:s,token:r});this.loggingIn=!1,this.error=a},verifyCaptcha(e){this.token=e,this.error=null},...(0,u.nv)(["handleLogin"]),...(0,u.OI)(["setNewUser","setLoading","setUser","setSocket"])}},m=g,h=t(1001),f=(0,h.Z)(m,l,i,!1,null,null,null),w=f.exports}}]);