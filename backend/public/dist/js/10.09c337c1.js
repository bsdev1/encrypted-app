"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[10],{2010:function(e,r,s){s.r(r),s.d(r,{default:function(){return w}});var t=s(1653),a=s(4562),n=s(3305),o=s(7864),i=function(){var e=this,r=e._self._c;return r("div",[e.loading?r("div",{staticClass:"loader d-flex flex-column"},[r("h3",[e._v("Loading...")]),r(n.Z,{staticClass:"mt-8",attrs:{size:"70",width:"5",indeterminate:""}})],1):e.user?e._e():r("form",{staticClass:"mx-auto auth-form px-5",on:{submit:function(r){return r.preventDefault(),e.register.apply(null,arguments)}}},[r("h2",{staticClass:"mb-5 mt-8"},[e._v("Register")]),r("transition-group",{attrs:{name:"register_errors_transition"}},e._l(e.errors,(function(s){return r(t.Z,{key:s,staticClass:"alert_error mb-5",attrs:{type:"error",color:"red"}},[e._v(e._s(s))])})),1),r(o.Z,{attrs:{label:"Username",solo:"",placeholder:"Type In Your Username"},model:{value:e.username,callback:function(r){e.username=r},expression:"username"}}),r(o.Z,{attrs:{label:"Password",solo:"",type:"password",placeholder:"Type In Your Password"},model:{value:e.password,callback:function(r){e.password=r},expression:"password"}}),r(o.Z,{attrs:{label:"Confirm Password",type:"password","hide-details":"",solo:"",placeholder:"Confirm Your Password"},model:{value:e.confirmPassword,callback:function(r){e.confirmPassword=r},expression:"confirmPassword"}}),r("hcaptcha",{staticClass:"mt-5 mb-3",attrs:{sitekey:e.sitekey},on:{verify:e.verifyCaptcha,reset:function(e){this.token=null}}}),r("div",{staticClass:"d-flex"},[r(a.Z,{attrs:{rounded:"",type:"submit",loading:e.registering}},[e._v("Register")]),r("router-link",{staticClass:"ml-auto text-decoration-none",attrs:{to:e.registering?"":"/login"}},[r(a.Z,{attrs:{rounded:""}},[e._v("Back To Log In")])],1)],1)],1)])},l=[],u=s(629),c=s(6132),d=s(2971),m=s.n(d),f={name:"Register",components:{hcaptcha:m()},data:()=>({sitekey:"75ec369f-f564-4e97-b53a-6d54297c813f",username:null,password:null,confirmPassword:null,token:null,errors:[],registering:!1,loadingCaptcha:!0}),async created(){if(this.setNewUser(null),this.user)return c.Z.push("/");this.setLoading(!1)},methods:{async register(){const{username:e,password:r,confirmPassword:s,token:t,handleRegister:a}=this;if(!e?.trim()||!r?.trim())return this.errors=["Fill in all fields!"];if(!t?.trim())return this.errors=["Captcha cannot be empty!"];if(r!=s)return this.errors=["Passwords are not matching!"];this.registering=!0;const{errors:n}=await a({username:e,password:r,token:t});this.registering=!1,this.errors=n,localStorage.setItem("keyFieldDisabled","true"),localStorage.setItem("key",null)},verifyCaptcha(e){this.token=e,this.errors=this.errors.filter((e=>!e.includes("Captcha")))},...(0,u.nv)(["handleRegister"]),...(0,u.OI)(["setNewUser","setLoading"])},computed:{...(0,u.rn)(["user","loading"])}},h=f,p=s(1001),g=(0,p.Z)(h,i,l,!1,null,null,null),w=g.exports}}]);