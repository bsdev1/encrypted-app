"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[255],{3255:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var n=s(1653),i=s(4562),r=s(7394),a=s(7864),d=function(){var e=this,t=e._self._c;return e.currentEditedMessage==e.id?t("div",{staticClass:"mt-3"},[t(r.cu,[e.editMessageError?t(n.Z,{attrs:{type:"error",color:"red",dense:""}},[e._v(e._s(e.editMessageError))]):e._e()],1),t("form",{staticClass:"d-flex",on:{submit:function(t){return t.preventDefault(),e.finishEditMessage(e.id)}}},[t(a.Z,{attrs:{height:"40",label:"Edit Message",solo:"",placeholder:"Type In Your Edit Message","hide-details":"",dense:""},model:{value:e.editMessageContent,callback:function(t){e.editMessageContent=t},expression:"editMessageContent"}}),t(i.Z,{staticClass:"finish__edit__btn ml-4",attrs:{type:"submit"}},[t("mdicon",{attrs:{name:"check"}})],1)],1)],1):t("div",[e._v(" "+e._s(e.messageContent)+" ")])},o=[],g=s(629),l=s(1354),c=s.n(l);function u(e,t){return c().AES.encrypt(JSON.stringify(e),t).toString()}var h={name:"MessageContent",props:{id:String,content:String},data(){return{messageContent:this.content,editMessageError:null,editMessageContent:this.content}},methods:{async finishEditMessage(e){let{editMessageContent:t,messageContent:s,messages:n,handleEditMessage:i,setCurrentEditedMessage:r,setMessages:a}=this;if(t==s)return this.editMessageError=null,r(null),this.messageContent=t;if(!t?.trim())return this.editMessageError="Edit message cannot be empty.";const d=localStorage.getItem("key"),{error:o}=await i({id:e,editMessageContent:u(t,d)});if(o)return this.editMessageError=o;r(null),this.messageContent=t,this.editActive=!1,this.editMessageError=null,a(n.map((t=>t.id==e?{...t,edited:!0}:t))),this.$emit("changeEdit"),this.$notify({text:"Successfully edited a message.",type:"success"}),this.socket.emit("editedMessage",{id:e,newContent:u(t,d)})},...(0,g.nv)(["handleEditMessage"]),...(0,g.OI)(["setCurrentEditedMessage","setMessages"])},computed:{...(0,g.rn)(["currentEditedMessage","messages","socket"])}},M=h,m=s(1001),f=(0,m.Z)(M,d,o,!1,null,"d6f7ad28",null),C=f.exports}}]);