(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[757,289,655],{2926:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return z}});var s=n(1653),i=n(4562),r=n(2240),o=n(573),a=n(7069),l=n(144),c=l["default"].extend({name:"rippleable",directives:{ripple:a.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),u=n(5352),h=l["default"].extend({name:"comparable",props:{valueComparator:{type:Function,default:u.vZ}}}),d=n(7678);function p(t){t.preventDefault()}var f=(0,d.Z)(o.Z,c,h).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some((e=>this.valueComparator(e,t))):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=o.Z.options.methods.genLabel.call(this);return t?(t.data.on={click:p},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:p},ref:"input"})},onClick(t){this.onChange(),this.$emit("click",t)},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const n=e.length;e=e.filter((e=>!this.valueComparator(e,t))),e.length===n&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onKeydown(t){}}}),g=f.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...o.Z.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick((()=>this.inputIndeterminate=t))},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(r.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...e,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}}),m=n(7864),y=m.Z,v=n(4127),w=n(1909),C=n(1767),b=y.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:t=>"boolean"===typeof t||[1e3,1024].includes(t)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:t=>(0,u.TI)(t).every((t=>null!=t&&"object"===typeof t))}},computed:{classes(){return{...y.options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);const e=this.internalArrayValue.reduce(((t,{size:e=0})=>t+e),0);return this.$vuetify.lang.t(this.counterSizeString,t,(0,u.XE)(e,1024===this.base))},internalArrayValue(){return(0,u.TI)(this.internalValue)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((t=>{const{name:e="",size:n=0}=t,s=this.truncateText(e);return this.showSize?`${s} (${(0,u.XE)(n,1024===this.base)})`:s})):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(t){!0===t&&(0,w.N6)("readonly is not supported on <v-file-input>",this)},immediate:!0},value(t){const e=this.multiple?t:t?[t]:[];(0,u.vZ)(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map(((t,e)=>this.$createElement(v.Z,{props:{small:this.smallChips},on:{"click:close":()=>{const t=this.internalValue;t.splice(e,1),this.internalValue=t}}},[t]))):[]},genControl(){const t=y.options.methods.genControl.call(this);return this.hideInput&&(t.data.style=(0,C.y0)(t.data.style,{display:"none"})),t},genInput(){const t=y.options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot(){if(!this.prependIcon)return null;const t=this.genIcon("prepend",(()=>{this.$refs.input.click()}));return this.genSlot("prepend","outer",[t])},genSelectionText(){const t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections(){const t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach(((e,n)=>{this.$scopedSlots.selection&&t.push(this.$scopedSlots.selection({text:this.text[n],file:e,index:n}))})):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot(){const t=y.options.methods.genTextFieldSlot.call(this);return t.data.on={...t.data.on||{},click:()=>this.$refs.input.click()},t},onInput(t){const e=[...t.target.files||[]];this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown(t){this.$emit("keydown",t)},truncateText(t){if(t.length<Number(this.truncateLength))return t;const e=Math.floor((Number(this.truncateLength)-1)/2);return`${t.slice(0,e)}…${t.slice(t.length-e)}`}}}),k=n(3305),x=n(7394),E=function(){var t=this,e=t._self._c;return e("div",[t.loading?e("div",{staticClass:"loader d-flex flex-column"},[e("h3",[t._v("Loading...")]),e(k.Z,{staticClass:"mt-8",attrs:{size:"70",width:"5",indeterminate:""}})],1):t.user?e("div",{staticClass:"mx-auto mt-7 mb-6 px-6 pb-6",attrs:{id:"dashboard"}},[e("div",{staticClass:"user__info d-flex"},[e("div",{staticClass:"my-auto mr-7"},[t._v("Hello, "),e("b",[t._v(t._s(t.user.username))]),t._v("!   "+t._s(t.date))]),e(i.Z,{staticClass:"ml-auto",attrs:{id:"logout__btn"},on:{click:t.logout}},[t._v("Log Out")])],1),e("div",{staticClass:"mt-4"},[t.loadingMessages?e("div",{staticClass:"d-flex"},[e(k.Z,{attrs:{indeterminate:""}}),e("div",{staticClass:"ml-5 my-auto"},[t._v("Loading Messages...")])],1):e("div",[t.messages.length?e("Messages",{key:t.updateMessages,attrs:{messages:t.messages}}):e("div",{staticClass:"mt-6"},[t._v(" No Messages ")]),e(x.cu,[t.error?e(s.Z,{staticClass:"alert_error mt-6 mb-5",attrs:{type:"error",color:"red"}},[t._v(t._s(t.error))]):t._e()],1),e("form",{staticClass:"d-flex mt-5 send_message_form",on:{submit:function(e){return e.preventDefault(),t.sendMessage.apply(null,arguments)}}},[e("div",{attrs:{id:"outer__files__input"}},[e(b,{staticStyle:{flex:"0"},attrs:{"hide-details":"",width:"30","hide-input":"",solo:"",multiple:""},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}}),e("div",{attrs:{id:"files__text"}},[e("mdicon",{staticClass:"mr-1",attrs:{name:"arrow-left-drop-circle"}}),t._v(" Select Your Files")],1)],1),e("div",{attrs:{id:"message__input"}},[e(m.Z,{ref:"messageInput",attrs:{disabled:t.sendingMessage,label:"Message",solo:"",placeholder:"Type In Your Message","hide-details":""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),e(i.Z,{staticClass:"send__message__btn ml-3 my-auto",attrs:{type:"submit",loading:t.sendingMessage}},[e("mdicon",{staticClass:"mr-2",attrs:{name:"send",size:"15"}}),t._v(" Send")],1)],1),e("div",{staticClass:"drop__files my-5 px-4 py-6",on:{drop:function(e){return e.preventDefault(),(({dataTransfer:e})=>t.fileDrop(e)).apply(null,arguments)},dragover:t.fileDragOver}},[e("mdicon",{staticClass:"mr-2",attrs:{name:"file-multiple",size:"15"}}),t._v(" Drag & Drop Files Here")],1),t.progress?e("div",{staticClass:"text-caption"},[t._v("Uploading "),e("b",[t._v(t._s(t.currentUpload))]),t._v("...")]):t._e(),e("div",{staticClass:"mt-4",staticStyle:{width:"300px","border-radius":"100px",background:"#202020"}},[e("div",{class:t.progress?"pa-2 px-4 progress":"progress",style:`width: ${t.progress}%; transition: 0.3s ease; border-radius: 100px; background: #303030;`},[t.progress?e("b",[t._v(t._s(t.progress)+"%")]):t._e()])]),e("Files",{staticClass:"my-4",attrs:{files:t.files}}),e("div",{staticClass:"mb-3"},[e(i.Z,{staticClass:"paste__clipboard__btn",attrs:{small:""},on:{click:t.pasteFromClipboard}},[e("mdicon",{staticClass:"mr-2",attrs:{name:"content-paste",size:"15"}}),t._v(" Paste Clipboard")],1),t.keyFieldDisabled?t._e():e(i.Z,{staticClass:"generate__key__btn ml-3",attrs:{small:""},on:{click:t.generateNewKey}},[e("mdicon",{staticClass:"mr-2",attrs:{name:"key",size:"15"}}),t._v(" Generate New Key")],1)],1),e("div",{staticClass:"key__flex d-flex"},[e(m.Z,{attrs:{required:"",disabled:t.sendingMessage||t.keyFieldDisabled,label:"Your Key",solo:"",placeholder:"Type In Your Key","hide-details":""},on:{input:t.keyChange},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),e(i.Z,{staticClass:"copy__key__btn ml-3",attrs:{height:"48",width:"100"},on:{click:t.copyToClipboard}},[e("mdicon",{staticClass:"mr-2",attrs:{name:"content-copy",size:"15"}}),t._v(" Copy")],1)],1),t._m(0),e(g,{staticClass:"mt-3 mb-5",attrs:{"hide-details":"",label:""+(t.keyFieldDisabled?"Enable Key Field":"Disable Key Field")},on:{change:t.changeCheckbox},model:{value:t.keyFieldDisabled,callback:function(e){t.keyFieldDisabled=e},expression:"keyFieldDisabled"}}),t.qrCode?e("div",{staticClass:"mb-5"},[e("span",{staticClass:"text-caption grey--text"},[t._v("Your Key In QR Code")]),e("div",{staticClass:"mt-2",staticStyle:{width:"148px",height:"148px",position:"relative"}},[e("img",{attrs:{alt:"",src:t.qrCode,id:"img__qr__code"}}),e("div",{staticStyle:{background:"white",padding:"7px 10px 0 10px","border-radius":"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20",height:"25",viewBox:"0 0 601 601"}},[e("path",{attrs:{d:"M68.443,565.926c6.316,0,12.491-1.148,18.357-3.402c2.408-0.928,4.915-1.439,7.06-1.439c1.444,0,3.394,0.23,4.483,1.32\n                    l29.587,29.584c5.955,5.951,13.868,9.23,22.283,9.23s16.328-3.275,22.283-9.23l27.255-27.256\n                    c5.961-5.945,9.248-13.865,9.248-22.287c0-8.42-3.29-16.336-9.257-22.291l-29.575-29.574c-1.462-1.463-1.466-3.848-0.003-5.312\n                    l4.691-4.703c0.899-0.902,1.925-1.094,2.625-1.094s1.723,0.191,2.619,1.09l29.612,29.652c5.958,5.957,13.874,9.238,22.289,9.238\n                    s16.331-3.281,22.283-9.236l27.255-27.252c12.207-12.326,12.207-32.314,0.043-44.596l-29.63-29.631\n                    c-0.906-0.902-1.096-1.938-1.096-2.645c0-0.705,0.19-1.736,1.096-2.643l118.106-118.125c1.57-1.567,4.793-2.623,8.018-2.623\n                    c1.678,0,3.309,0.282,4.594,0.79c17.467,6.916,35.842,10.422,54.611,10.422c38.994,0,75.656-15.162,103.236-42.693\n                    c57.344-57.427,57.34-150.775,0.006-208.107C512.719,15.312,475.754,0,436.432,0c-39.32,0-76.285,15.309-104.088,43.112\n                    c-41.231,41.228-53.894,103.159-32.266,157.777c1.573,3.972,0.683,10.104-1.83,12.619L32.531,479.281\n                    c-9.565,9.555-14.835,22.311-14.835,35.912s5.272,26.355,14.841,35.916C42.087,560.66,54.841,565.926,68.443,565.926z\n                    M390.866,147.162c0-12.207,4.725-23.651,13.299-32.228c8.613-8.611,20.07-13.357,32.268-13.357\n                    c12.195,0,23.654,4.743,32.268,13.357c8.578,8.577,13.299,20.021,13.299,32.228c0,12.206-4.725,23.651-13.299,32.228\n                    c-8.602,8.571-20.064,13.302-32.268,13.302s-23.666-4.728-32.279-13.314C395.588,170.815,390.866,159.371,390.866,147.162z"}})])])]),t.showScanner?e("div",[e("div",{staticStyle:{width:"500px","max-width":"100%"}},[e("qrcode-stream",{staticClass:"mt-3 video__radius",on:{decode:t.onDecode}})],1),e(i.Z,{staticClass:"scan__qr__btn mt-3",attrs:{small:""},on:{click:function(e){t.showScanner=!1}}},[e("mdicon",{staticClass:"mr-2",attrs:{name:"close",size:"15"}}),t._v(" Close Scanner")],1)],1):e(i.Z,{staticClass:"scan__qr__btn mt-3",attrs:{small:""},on:{click:function(e){t.showScanner=!0}}},[e("mdicon",{staticClass:"mr-2",attrs:{name:"camera",size:"15"}}),t._v(" Scan QR Code Instead")],1)],1):e("div",[t._v(" Loading QR... ")])],1)])]):t._e()])},I=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-caption mt-3"},[t._v("Hide it away from other people or share with someone you trust | want to share messages with."),e("br"),t._v("(If you decide to use your own custom key: entering a weak, repeatable or not random key may compromise your data)")])}],M=(n(8675),n(7380),n(1118),n(6132)),_=n(381),S=n.n(_),A=n(629),B=n(2779),T=n(2216),N=n(2592),P=n(3214),D={name:"Dashboard",components:{Messages:B["default"],Files:T["default"]},data:()=>({date:null,message:null,error:null,qrCode:null,currentUpload:null,key:localStorage.getItem("key"),loadingMessages:!1,sendingMessage:!1,updateMessages:!1,showScanner:!1,keyFieldDisabled:"true"==localStorage.getItem("keyFieldDisabled"),allMessages:[],progress:0}),async created(){let{user:t,pathFrom:e,key:n}=this;if(!t&&("Login"==e||"Register"==e))return M.Z.push("/login");if(!n||n.length<43){const t=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),e=await crypto.subtle.exportKey("jwk",t);this.key=e.k,n=e.k,localStorage.setItem("key",e.k)}this.date=S()().locale(navigator.language).format("dddd, MMMM Do YYYY, h:mm:ss A"),setInterval((()=>this.date=S()().locale(navigator.language).format("dddd, MMMM Do YYYY, h:mm:ss A")),1e3),this.loadingMessages=!0,await this.setQR(n),this.loading&&this.setLoading(!1);const s=await this.handleGetMessages();this.loadingMessages=!1,await new Promise((t=>{this.allMessages=s,this.setMessages(s.map((t=>({...t,content:(0,P.pe)(t.content,n),fileDescriptions:t.fileDescriptions.map((({name:t,children:e},s)=>({id:s,name:(0,P.pe)(t,n),children:e.map((t=>({...t,size:(0,P.pe)(t.size,n),type:(0,P.pe)(t.type,n),name:(0,P.pe)(t.name,n)})))})))}))).filter((({content:t})=>t))),t()}));let i=document.querySelector("#messages");i?.scrollTo({top:i.scrollHeight,behavior:"smooth"});const{socket:r}=this;r.on("newMessage",(async t=>{const{key:e}=this,n=(0,P.pe)(t.content,e);if(n&&e){this.error=null;let{fileDescriptions:s,filesCount:r}=t;s.length&&(s=s.map((({name:t,children:n},s)=>({id:s,name:(0,P.pe)(t,e),children:n.map((t=>({...t,size:(0,P.pe)(t.size,e),type:(0,P.pe)(t.type,e),name:(0,P.pe)(t.name,e)})))}))));const o={...t,filesCount:r,content:n,files:[],fileDescriptions:s,edited:!1};this.setTempDecryptedFiles([]),await new Promise((e=>{this.setMessages([...this.messages,o]),this.allMessages.push(t),e()}));const a=[...document.querySelectorAll(".message")].pop(),l=parseFloat(getComputedStyle(a).height.split("px")[0]);i=document.querySelector("#messages");const{scrollHeight:c,scrollTop:u,clientHeight:h}=i;return this.allMessages.length>8?i.scrollTo({top:c,behavior:"smooth"}):void(c-(u+l)==h&&i.scrollTo({top:c,behavior:"smooth"}))}this.allMessages.push(t)})),r.on("editedMessage",(async({id:t,newContent:e})=>{const{key:n}=this;await new Promise((s=>{this.setMessages(this.messages.map((s=>s.id==t?{...s,content:(0,P.pe)(e,n),edited:!0}:s))),this.updateMessages=!this.updateMessages,s()})),i=document.querySelector("#messages"),i?.scrollTo({top:i.scrollHeight})})),r.on("removeMessage",(t=>{this.setMessages(this.messages.filter((e=>e.id!=t)))}))},methods:{async sendMessage(){let{message:t,key:e,files:n}=this;if(!t?.trim())return this.error="Message cannot be empty!";if(!e)return this.error="Key cannot be empty!";if(e.length<43)return this.error="Key must be 43 length or more!";this.error=null,this.sendingMessage=!0;const{data:{success:s}}=await P.WY.get("/");if(0==s)return this.logOut();t=(0,P.HI)(t,e);const i=await crypto.subtle.importKey("jwk",{kty:"oct",k:e,alg:"A256GCM",ext:!0},{name:"AES-GCM"},!1,["encrypt","decrypt"]),r=524288,o=[];let a=[],l=[],c=[];const u=(t,{name:e,type:n,size:s,uuid:i})=>{l.push({name:e,type:n,size:s,uuid:i}),c=c.find((e=>e.name==t))?c.map((r=>r.name==t?{...r,children:[...r.children,{uuid:i,size:s,name:e,type:n}]}:r)):[...c,{name:t,children:l}]},h=await new Promise((t=>{this.socket.emit("createFilesUpload",n.length,(e=>t(e)))}));for(let m=0;m<n.length;m++){let t=0,s=[],c=h[m];const d=n[m];let{name:p,type:f,size:g}=d;this.currentUpload=p;const y=(0,P.HI)(p,e),v=(0,P.HI)(f,e);g=(0,P.HI)(g,e);const w=new Uint8Array(await d.arrayBuffer()),C=w.length/r;for(let e=0;e<C;e++){const n=t/r,o=w.slice(t,e+1==C.toFixed(0)?w.length:t+r),l=crypto.getRandomValues(new Uint8Array(12));let u=await crypto.subtle.encrypt({name:"AES-GCM",iv:l},i,o);const h=w.length<r?100:(n/C.toFixed(0)*100).toFixed(0);s.includes(h)||(s.push(h),this.progress=h),u=(0,P.Ni)(l,u),await new Promise((t=>{this.socket.emit("uploadChunk",{fileUUID:c,percentage:h,encryptedChunk:u},(()=>t()))})),a.push(u),t+=r}s=[],this.progress=0;const b=r+28,k=a.map((t=>t.length)).filter((t=>t==b)).length;let x=a.map((t=>t.length)).filter((t=>t!=b));x=[`${b}-${k}`].concat(x),o.push({uuid:c,fileName:y,fileType:v,chunks:x}),a=[];const E={name:p,type:f,size:g,uuid:c};"text/plain"==f?u("TXT",E):f.startsWith("image")?u("PICS",E):f.startsWith("video")?u("VIDEOS",E):f.startsWith("audio")?u("SOUNDS",E):f.startsWith("application/x-msdownload")?u("EXECUTABLES",E):u("OTHER",E),l=[],this.setFiles(this.files.slice(1,this.files.length))}this.currentUpload=null;const d=c.map((({name:t,children:n})=>({name:(0,P.HI)(t,e),children:n.map((t=>({...t,type:(0,P.HI)(t.type,e),name:(0,P.HI)(t.name,e)})))}))),p=await this.handleSendMessage({message:t,files:o,fileDescriptions:d});this.message=null,this.sendingMessage=!1,n=n.map(((t,e)=>{const{name:n,type:s}=t,{uuid:i}=o[e];return{src:URL.createObjectURL(new File([t],n,{type:s})),name:n,uuid:i,type:s,notFetched:!0}}));const f={...p,files:n,edited:!1,fileDescriptions:c.map(((t,n)=>({id:n,...t,children:t.children.map((t=>({...t,size:(0,P.pe)(t.size,e)})))}))),content:(0,P.pe)(p.content,e)};await new Promise((t=>{this.setMessages([...this.messages,f]),this.allMessages.push(p),t()}));const g=document.querySelector("#messages");g&&g.scrollTo({top:g.scrollHeight,behavior:"smooth"}),this.focus("messageInput")},focus(t){this.$refs[t].$refs.input.focus()},async pasteFromClipboard(){const t=await navigator.clipboard.readText();if(!t?.trim())return this.$notify({text:"Your clipboard is empty.",type:"error"});if(t.length<43)return this.$notify({text:"Key must be 43 characters long!",type:"error"});if(t==this.key)return this.$notify({text:"Key inserted from clipboard.",type:"success"});try{await crypto.subtle.importKey("jwk",{kty:"oct",k:t,alg:"A256GCM",ext:!0},{name:"AES-GCM"},!1,["encrypt","decrypt"])}catch{return this.$notify({text:"Invalid AES key!",type:"error"})}return this.key=t,await this.setQR(t),this.keyChange(),this.$notify({text:"Key inserted from clipboard.",type:"success"})},async onDecode(t){if(this.key==t)return this.$notify({text:"QR Code key is same as your current key.",type:"info"}),this.showScanner=!1;this.showScanner=!1,this.key=t,await this.setQR(t),this.keyChange(),this.$notify({text:"Successfully inserted the key.",type:"success"})},fileDrop({items:t,files:e}){e=t?[...t].filter((t=>"file"==t.kind)).map((t=>t.getAsFile())):[...e],this.setFiles(e)},fileDragOver(t){t.preventDefault()},async keyChange(){const{key:t}=this;if(!t)return this.error="Key cannot be empty!";if(t.length<43)return this.error="Key must be 43 length or more!";this.error=null;localStorage.getItem("key");localStorage.setItem("key",t);let e=[];await new Promise((async n=>{for(const s of this.allMessages){let{content:n,fileDescriptions:i}=s;if(n=(0,P.pe)(n,t),n){i=i.map((({name:e,children:n},s)=>({id:s,name:(0,P.pe)(e,t),children:n.map((e=>({...e,size:(0,P.pe)(e.size,t),type:(0,P.pe)(e.type,t),name:(0,P.pe)(e.name,t)})))})));const r={...s,content:n,files:[],fileDescriptions:i};e.push(r)}}this.setMessages(e),e=[],n()}));const n=document.querySelector("#messages");n&&n.scrollTo({top:n.scrollHeight,behavior:"smooth"})},changeCheckbox(){localStorage.setItem("keyFieldDisabled",this.keyFieldDisabled)},async setQR(t){this.qrCode=null;const e=await N.toDataURL(t,{margin:2,width:148});this.qrCode=e},async generateNewKey(){const{data:{success:t}}=await P.WY.get("/");if(0==t)return this.logOut();const e=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),{k:n}=await crypto.subtle.exportKey("jwk",e);this.key=n,await this.setQR(n),this.keyChange(),this.copyToClipboard()},async copyToClipboard(){await navigator.clipboard.writeText(this.key),this.$notify({text:"Copied your key to the clipboard.",type:"success"})},async logout(){await this.handleLogout()},...(0,A.nv)(["handleGetMessages","handleSendMessage","handleLogout","logOut"]),...(0,A.OI)(["setFiles","setTempDecryptedFiles","setMessages","setLoading"])},computed:{...(0,A.rn)(["user","socket","files","tempDecryptedFiles","messages","pathFrom","loading"]),files:{get(){return this.$store.state.files},set(t){this.$store.commit("setFiles",t)}}}},F=D,R=n(1001),L=(0,R.Z)(F,E,I,!1,null,"b36e077c",null),z=L.exports},2216:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var s=n(4562),i=n(4127),r=function(){var t=this,e=t._self._c;return e("div",[t.files.length>1?e(s.Z,{staticClass:"mb-3",attrs:{small:""},on:{click:function(e){return t.setFiles([])}}},[t._v("Clear All")]):t._e(),e("div",{class:t.files.length>=12?"files__overflow":"files"},t._l(t.files,(function({name:n,size:s},r){return e("div",{key:r,staticClass:"d-flex"},[e(i.Z,{staticClass:"mt-2",attrs:{color:"deep-purple accent-4",dark:"",label:"",small:""}},[t._v(" "+t._s(n)+" ("+t._s(t.filesize(s))+") ")]),e("div",{staticClass:"mt-2 ml-2",on:{click:function(e){return t.removeFile(r)}}},[e("mdicon",{attrs:{width:"20",height:"20",name:"close"}})],1)],1)})),0),t.files.length?e("div",{staticClass:"text-caption grey--text mt-3"},[t._v(" "+t._s(t.files.length)+" "+t._s(1==t.files.length?"File":"Files")+" ("+t._s(t.filesize(t.totalSize))+" in total) ")]):t._e()],1)},o=[],a=n(6755),l=n.n(a),c=n(629),u={name:"FileInput",methods:{filesize:l(),removeFile(t){this.setFiles(this.files.filter(((e,n)=>n!=t)))},...(0,c.OI)(["setFiles"])},computed:{...(0,c.rn)(["files"]),totalSize(t){return t.files.reduce(((t,{size:e})=>t+e),0)}}},h=u,d=n(1001),p=(0,d.Z)(h,r,o,!1,null,"050b570f",null),f=p.exports},2779:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"messages"}},t._l(t.messages,(function(t){return e("div",{key:t.id},[e("Message",{attrs:{message:t}})],1)})),0)},i=[],r=n(1819),o={name:"Messages",props:{messages:Array},components:{Message:r["default"]}},a=o,l=n(1001),c=(0,l.Z)(a,s,i,!1,null,null,null),u=c.exports},5987:function(t){"use strict";var e={single_source_shortest_paths:function(t,n,s){var i={},r={};r[n]=0;var o,a,l,c,u,h,d,p,f,g=e.PriorityQueue.make();g.push(n,0);while(!g.empty())for(l in o=g.pop(),a=o.value,c=o.cost,u=t[a]||{},u)u.hasOwnProperty(l)&&(h=u[l],d=c+h,p=r[l],f="undefined"===typeof r[l],(f||p>d)&&(r[l]=d,g.push(l,d),i[l]=a));if("undefined"!==typeof s&&"undefined"===typeof r[s]){var m=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(m)}return i},extract_shortest_path_from_predecessor_list:function(t,e){var n=[],s=e;while(s)n.push(s),t[s],s=t[s];return n.reverse(),n},find_path:function(t,n,s){var i=e.single_source_shortest_paths(t,n,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(t){var n,s=e.PriorityQueue,i={};for(n in t=t||{},s)s.hasOwnProperty(n)&&(i[n]=s[n]);return i.queue=[],i.sorter=t.sorter||s.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e},2378:function(t){"use strict";t.exports=function(t){for(var e=[],n=t.length,s=0;s<n;s++){var i=t.charCodeAt(s);if(i>=55296&&i<=56319&&n>s+1){var r=t.charCodeAt(s+1);r>=56320&&r<=57343&&(i=1024*(i-55296)+r-56320+65536,s+=1)}i<128?e.push(i):i<2048?(e.push(i>>6|192),e.push(63&i|128)):i<55296||i>=57344&&i<65536?(e.push(i>>12|224),e.push(i>>6&63|128),e.push(63&i|128)):i>=65536&&i<=1114111?(e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(63&i|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}},2592:function(t,e,n){const s=n(7138),i=n(5600),r=n(6907),o=n(3776);function a(t,e,n,r,o){const a=[].slice.call(arguments,1),l=a.length,c="function"===typeof a[l-1];if(!c&&!s())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=e,e=r=void 0):2!==l||e.getContext||(r=n,n=e,e=void 0),new Promise((function(s,o){try{const o=i.create(n,r);s(t(o,e,r))}catch(a){o(a)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(o=n,n=e,e=r=void 0):3===l&&(e.getContext&&"undefined"===typeof o?(o=r,r=void 0):(o=r,r=n,n=e,e=void 0));try{const s=i.create(n,r);o(null,t(s,e,r))}catch(u){o(u)}}e.create=i.create,e.toCanvas=a.bind(null,r.render),e.toDataURL=a.bind(null,r.renderToDataURL),e.toString=a.bind(null,(function(t,e,n){return o.render(t,n)}))},7138:function(t){t.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},1845:function(t,e,n){const s=n(242).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,n=s(t),i=145===n?26:2*Math.ceil((n-13)/(2*e-2)),r=[n-7];for(let s=1;s<e-1;s++)r[s]=r[s-1]-i;return r.push(6),r.reverse()},e.getPositions=function(t){const n=[],s=e.getRowColCoords(t),i=s.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)0===e&&0===t||0===e&&t===i-1||e===i-1&&0===t||n.push([s[e],s[t]]);return n}},8260:function(t,e,n){const s=n(6910),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(t){this.mode=s.ALPHANUMERIC,this.data=t}r.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=45*i.indexOf(this.data[e]);n+=i.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(i.indexOf(this.data[e]),6)},t.exports=r},7245:function(t){function e(){this.buffer=[],this.length=0}e.prototype={get:function(t){const e=Math.floor(t/8);return 1===(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let n=0;n<e;n++)this.putBit(1===(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=e},3280:function(t){function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}e.prototype.set=function(t,e,n,s){const i=t*this.size+e;this.data[i]=n,s&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,e){return this.data[t*this.size+e]},e.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},e.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=e},3424:function(t,e,n){const s=n(2378),i=n(6910);function r(t){this.mode=i.BYTE,"string"===typeof t&&(t=s(t)),this.data=new Uint8Array(t)}r.getBitsLength=function(t){return 8*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=r},5393:function(t,e,n){const s=n(4908),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case s.L:return i[4*(t-1)+0];case s.M:return i[4*(t-1)+1];case s.Q:return i[4*(t-1)+2];case s.H:return i[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case s.L:return r[4*(t-1)+0];case s.M:return r[4*(t-1)+1];case s.Q:return r[4*(t-1)+2];case s.H:return r[4*(t-1)+3];default:return}}},4908:function(t,e){function n(t){if("string"!==typeof t)throw new Error("Param is not a string");const n=t.toLowerCase();switch(n){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&"undefined"!==typeof t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,s){if(e.isValid(t))return t;try{return n(t)}catch(i){return s}}},6526:function(t,e,n){const s=n(242).getSymbolSize,i=7;e.getPositions=function(t){const e=s(t);return[[0,0],[e-i,0],[0,e-i]]}},1642:function(t,e,n){const s=n(242),i=1335,r=21522,o=s.getBCHDigit(i);e.getEncodedBits=function(t,e){const n=t.bit<<3|e;let a=n<<10;while(s.getBCHDigit(a)-o>=0)a^=i<<s.getBCHDigit(a)-o;return(n<<10|a)^r}},9729:function(t,e){const n=new Uint8Array(512),s=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)n[e]=t,s[t]=e,t<<=1,256&t&&(t^=285);for(let e=255;e<512;e++)n[e]=n[e-255]})(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return s[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[s[t]+s[e]]}},5442:function(t,e,n){const s=n(6910),i=n(242);function r(t){this.mode=s.KANJI,this.data=t}r.getBitsLength=function(t){return 13*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=i.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}},t.exports=r},7126:function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};function s(t,n,s){switch(t){case e.Patterns.PATTERN000:return(n+s)%2===0;case e.Patterns.PATTERN001:return n%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(n+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return n*s%2+n*s%3===0;case e.Patterns.PATTERN110:return(n*s%2+n*s%3)%2===0;case e.Patterns.PATTERN111:return(n*s%3+(n+s)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let s=0,i=0,r=0,o=null,a=null;for(let l=0;l<e;l++){i=r=0,o=a=null;for(let c=0;c<e;c++){let e=t.get(l,c);e===o?i++:(i>=5&&(s+=n.N1+(i-5)),o=e,i=1),e=t.get(c,l),e===a?r++:(r>=5&&(s+=n.N1+(r-5)),a=e,r=1)}i>=5&&(s+=n.N1+(i-5)),r>=5&&(s+=n.N1+(r-5))}return s},e.getPenaltyN2=function(t){const e=t.size;let s=0;for(let n=0;n<e-1;n++)for(let i=0;i<e-1;i++){const e=t.get(n,i)+t.get(n,i+1)+t.get(n+1,i)+t.get(n+1,i+1);4!==e&&0!==e||s++}return s*n.N2},e.getPenaltyN3=function(t){const e=t.size;let s=0,i=0,r=0;for(let n=0;n<e;n++){i=r=0;for(let o=0;o<e;o++)i=i<<1&2047|t.get(n,o),o>=10&&(1488===i||93===i)&&s++,r=r<<1&2047|t.get(o,n),o>=10&&(1488===r||93===r)&&s++}return s*n.N3},e.getPenaltyN4=function(t){let e=0;const s=t.data.length;for(let n=0;n<s;n++)e+=t.data[n];const i=Math.abs(Math.ceil(100*e/s/5)-10);return i*n.N4},e.applyMask=function(t,e){const n=e.size;for(let i=0;i<n;i++)for(let r=0;r<n;r++)e.isReserved(r,i)||e.xor(r,i,s(t,r,i))},e.getBestMask=function(t,n){const s=Object.keys(e.Patterns).length;let i=0,r=1/0;for(let o=0;o<s;o++){n(o),e.applyMask(o,t);const s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),s<r&&(r=s,i=o)}return i}},6910:function(t,e,n){const s=n(3114),i=n(7007);function r(t){if("string"!==typeof t)throw new Error("Param is not a string");const n=t.toLowerCase();switch(n){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!s.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return i.testNumeric(t)?e.NUMERIC:i.testAlphanumeric(t)?e.ALPHANUMERIC:i.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return r(t)}catch(s){return n}}},1085:function(t,e,n){const s=n(6910);function i(t){this.mode=s.NUMERIC,this.data=t.toString()}i.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e,n,s;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),s=parseInt(n,10),t.put(s,10);const i=this.data.length-e;i>0&&(n=this.data.substr(e),s=parseInt(n,10),t.put(s,3*i+1))},t.exports=i},6143:function(t,e,n){const s=n(9729);e.mul=function(t,e){const n=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let r=0;r<e.length;r++)n[i+r]^=s.mul(t[i],e[r]);return n},e.mod=function(t,e){let n=new Uint8Array(t);while(n.length-e.length>=0){const t=n[0];for(let r=0;r<e.length;r++)n[r]^=s.mul(e[r],t);let i=0;while(i<n.length&&0===n[i])i++;n=n.slice(i)}return n},e.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let i=0;i<t;i++)n=e.mul(n,new Uint8Array([1,s.exp(i)]));return n}},5600:function(t,e,n){const s=n(242),i=n(4908),r=n(7245),o=n(3280),a=n(1845),l=n(6526),c=n(7126),u=n(5393),h=n(2882),d=n(3103),p=n(1642),f=n(6910),g=n(6130);function m(t,e){const n=t.size,s=l.getPositions(e);for(let i=0;i<s.length;i++){const e=s[i][0],r=s[i][1];for(let s=-1;s<=7;s++)if(!(e+s<=-1||n<=e+s))for(let i=-1;i<=7;i++)r+i<=-1||n<=r+i||(s>=0&&s<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===s||6===s)||s>=2&&s<=4&&i>=2&&i<=4?t.set(e+s,r+i,!0,!0):t.set(e+s,r+i,!1,!0))}}function y(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2===0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}function v(t,e){const n=a.getPositions(e);for(let s=0;s<n.length;s++){const e=n[s][0],i=n[s][1];for(let n=-2;n<=2;n++)for(let s=-2;s<=2;s++)-2===n||2===n||-2===s||2===s||0===n&&0===s?t.set(e+n,i+s,!0,!0):t.set(e+n,i+s,!1,!0)}}function w(t,e){const n=t.size,s=d.getEncodedBits(e);let i,r,o;for(let a=0;a<18;a++)i=Math.floor(a/3),r=a%3+n-8-3,o=1===(s>>a&1),t.set(i,r,o,!0),t.set(r,i,o,!0)}function C(t,e,n){const s=t.size,i=p.getEncodedBits(e,n);let r,o;for(r=0;r<15;r++)o=1===(i>>r&1),r<6?t.set(r,8,o,!0):r<8?t.set(r+1,8,o,!0):t.set(s-15+r,8,o,!0),r<8?t.set(8,s-r-1,o,!0):r<9?t.set(8,15-r-1+1,o,!0):t.set(8,15-r-1,o,!0);t.set(s-8,8,1,!0)}function b(t,e){const n=t.size;let s=-1,i=n-1,r=7,o=0;for(let a=n-1;a>0;a-=2){6===a&&a--;while(1){for(let n=0;n<2;n++)if(!t.isReserved(i,a-n)){let s=!1;o<e.length&&(s=1===(e[o]>>>r&1)),t.set(i,a-n,s),r--,-1===r&&(o++,r=7)}if(i+=s,i<0||n<=i){i-=s,s=-s;break}}}}function k(t,e,n){const i=new r;n.forEach((function(e){i.put(e.mode.bit,4),i.put(e.getLength(),f.getCharCountIndicator(e.mode,t)),e.write(i)}));const o=s.getSymbolTotalCodewords(t),a=u.getTotalCodewordsCount(t,e),l=8*(o-a);i.getLengthInBits()+4<=l&&i.put(0,4);while(i.getLengthInBits()%8!==0)i.putBit(0);const c=(l-i.getLengthInBits())/8;for(let s=0;s<c;s++)i.put(s%2?17:236,8);return x(i,t,e)}function x(t,e,n){const i=s.getSymbolTotalCodewords(e),r=u.getTotalCodewordsCount(e,n),o=i-r,a=u.getBlocksCount(e,n),l=i%a,c=a-l,d=Math.floor(i/a),p=Math.floor(o/a),f=p+1,g=d-p,m=new h(g);let y=0;const v=new Array(a),w=new Array(a);let C=0;const b=new Uint8Array(t.buffer);for(let s=0;s<a;s++){const t=s<c?p:f;v[s]=b.slice(y,y+t),w[s]=m.encode(v[s]),y+=t,C=Math.max(C,t)}const k=new Uint8Array(i);let x,E,I=0;for(x=0;x<C;x++)for(E=0;E<a;E++)x<v[E].length&&(k[I++]=v[E][x]);for(x=0;x<g;x++)for(E=0;E<a;E++)k[I++]=w[E][x];return k}function E(t,e,n,i){let r;if(Array.isArray(t))r=g.fromArray(t);else{if("string"!==typeof t)throw new Error("Invalid data");{let s=e;if(!s){const e=g.rawSplit(t);s=d.getBestVersionForData(e,n)}r=g.fromString(t,s||40)}}const a=d.getBestVersionForData(r,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<a)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else e=a;const l=k(e,n,r),u=s.getSymbolSize(e),h=new o(u);return m(h,e),y(h),v(h,e),C(h,n,0),e>=7&&w(h,e),b(h,l),isNaN(i)&&(i=c.getBestMask(h,C.bind(null,h,n))),c.applyMask(i,h),C(h,n,i),{modules:h,version:e,errorCorrectionLevel:n,maskPattern:i,segments:r}}e.create=function(t,e){if("undefined"===typeof t||""===t)throw new Error("No input text");let n,r,o=i.M;return"undefined"!==typeof e&&(o=i.from(e.errorCorrectionLevel,i.M),n=d.from(e.version),r=c.from(e.maskPattern),e.toSJISFunc&&s.setToSJISFunction(e.toSJISFunc)),E(t,n,o,r)}},2882:function(t,e,n){const s=n(6143);function i(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(t){this.degree=t,this.genPoly=s.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=s.mod(e,this.genPoly),i=this.degree-n.length;if(i>0){const t=new Uint8Array(this.degree);return t.set(n,i),t}return n},t.exports=i},7007:function(t,e){const n="[0-9]+",s="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+")(?:.|[\r\n]))+";e.KANJI=new RegExp(i,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp(n,"g"),e.ALPHANUMERIC=new RegExp(s,"g");const o=new RegExp("^"+i+"$"),a=new RegExp("^"+n+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return o.test(t)},e.testNumeric=function(t){return a.test(t)},e.testAlphanumeric=function(t){return l.test(t)}},6130:function(t,e,n){const s=n(6910),i=n(1085),r=n(8260),o=n(3424),a=n(5442),l=n(7007),c=n(242),u=n(5987);function h(t){return unescape(encodeURIComponent(t)).length}function d(t,e,n){const s=[];let i;while(null!==(i=t.exec(n)))s.push({data:i[0],index:i.index,mode:e,length:i[0].length});return s}function p(t){const e=d(l.NUMERIC,s.NUMERIC,t),n=d(l.ALPHANUMERIC,s.ALPHANUMERIC,t);let i,r;c.isKanjiModeEnabled()?(i=d(l.BYTE,s.BYTE,t),r=d(l.KANJI,s.KANJI,t)):(i=d(l.BYTE_KANJI,s.BYTE,t),r=[]);const o=e.concat(n,i,r);return o.sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function f(t,e){switch(e){case s.NUMERIC:return i.getBitsLength(t);case s.ALPHANUMERIC:return r.getBitsLength(t);case s.KANJI:return a.getBitsLength(t);case s.BYTE:return o.getBitsLength(t)}}function g(t){return t.reduce((function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}function m(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n];switch(i.mode){case s.NUMERIC:e.push([i,{data:i.data,mode:s.ALPHANUMERIC,length:i.length},{data:i.data,mode:s.BYTE,length:i.length}]);break;case s.ALPHANUMERIC:e.push([i,{data:i.data,mode:s.BYTE,length:i.length}]);break;case s.KANJI:e.push([i,{data:i.data,mode:s.BYTE,length:h(i.data)}]);break;case s.BYTE:e.push([{data:i.data,mode:s.BYTE,length:h(i.data)}])}}return e}function y(t,e){const n={},i={start:{}};let r=["start"];for(let o=0;o<t.length;o++){const a=t[o],l=[];for(let t=0;t<a.length;t++){const c=a[t],u=""+o+t;l.push(u),n[u]={node:c,lastCount:0},i[u]={};for(let t=0;t<r.length;t++){const o=r[t];n[o]&&n[o].node.mode===c.mode?(i[o][u]=f(n[o].lastCount+c.length,c.mode)-f(n[o].lastCount,c.mode),n[o].lastCount+=c.length):(n[o]&&(n[o].lastCount=c.length),i[o][u]=f(c.length,c.mode)+4+s.getCharCountIndicator(c.mode,e))}}r=l}for(let s=0;s<r.length;s++)i[r[s]].end=0;return{map:i,table:n}}function v(t,e){let n;const l=s.getBestModeForData(t);if(n=s.from(e,l),n!==s.BYTE&&n.bit<l.bit)throw new Error('"'+t+'" cannot be encoded with mode '+s.toString(n)+".\n Suggested mode is: "+s.toString(l));switch(n!==s.KANJI||c.isKanjiModeEnabled()||(n=s.BYTE),n){case s.NUMERIC:return new i(t);case s.ALPHANUMERIC:return new r(t);case s.KANJI:return new a(t);case s.BYTE:return new o(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"===typeof e?t.push(v(e,null)):e.data&&t.push(v(e.data,e.mode)),t}),[])},e.fromString=function(t,n){const s=p(t,c.isKanjiModeEnabled()),i=m(s),r=y(i,n),o=u.find_path(r.map,"start","end"),a=[];for(let e=1;e<o.length-1;e++)a.push(r.table[o[e]].node);return e.fromArray(g(a))},e.rawSplit=function(t){return e.fromArray(p(t,c.isKanjiModeEnabled()))}},242:function(t,e){let n;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return s[t]},e.getBCHDigit=function(t){let e=0;while(0!==t)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!==typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return"undefined"!==typeof n},e.toSJIS=function(t){return n(t)}},3114:function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},3103:function(t,e,n){const s=n(242),i=n(5393),r=n(4908),o=n(6910),a=n(3114),l=7973,c=s.getBCHDigit(l);function u(t,n,s){for(let i=1;i<=40;i++)if(n<=e.getCapacity(i,s,t))return i}function h(t,e){return o.getCharCountIndicator(t,e)+4}function d(t,e){let n=0;return t.forEach((function(t){const s=h(t.mode,e);n+=s+t.getBitsLength()})),n}function p(t,n){for(let s=1;s<=40;s++){const i=d(t,s);if(i<=e.getCapacity(s,n,o.MIXED))return s}}e.from=function(t,e){return a.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!a.isValid(t))throw new Error("Invalid QR Code version");"undefined"===typeof n&&(n=o.BYTE);const r=s.getSymbolTotalCodewords(t),l=i.getTotalCodewordsCount(t,e),c=8*(r-l);if(n===o.MIXED)return c;const u=c-h(n,t);switch(n){case o.NUMERIC:return Math.floor(u/10*3);case o.ALPHANUMERIC:return Math.floor(u/11*2);case o.KANJI:return Math.floor(u/13);case o.BYTE:default:return Math.floor(u/8)}},e.getBestVersionForData=function(t,e){let n;const s=r.from(e,r.M);if(Array.isArray(t)){if(t.length>1)return p(t,s);if(0===t.length)return 1;n=t[0]}else n=t;return u(n.mode,n.getLength(),s)},e.getEncodedBits=function(t){if(!a.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;while(s.getBCHDigit(e)-c>=0)e^=l<<s.getBCHDigit(e)-c;return t<<12|e}},6907:function(t,e,n){const s=n(9653);function i(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function r(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}e.render=function(t,e,n){let o=n,a=e;"undefined"!==typeof o||e&&e.getContext||(o=e,e=void 0),e||(a=r()),o=s.getOptions(o);const l=s.getImageWidth(t.modules.size,o),c=a.getContext("2d"),u=c.createImageData(l,l);return s.qrToImageData(u.data,t,o),i(c,a,l),c.putImageData(u,0,0),a},e.renderToDataURL=function(t,n,s){let i=s;"undefined"!==typeof i||n&&n.getContext||(i=n,n=void 0),i||(i={});const r=e.render(t,n,i),o=i.type||"image/png",a=i.rendererOpts||{};return r.toDataURL(o,a.quality)}},3776:function(t,e,n){const s=n(9653);function i(t,e){const n=t.a/255,s=e+'="'+t.hex+'"';return n<1?s+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':s}function r(t,e,n){let s=t+e;return"undefined"!==typeof n&&(s+=" "+n),s}function o(t,e,n){let s="",i=0,o=!1,a=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);c||o||(o=!0),t[l]?(a++,l>0&&c>0&&t[l-1]||(s+=o?r("M",c+n,.5+u+n):r("m",i,0),i=0,o=!1),c+1<e&&t[l+1]||(s+=r("h",a),a=0)):i++}return s}e.render=function(t,e,n){const r=s.getOptions(e),a=t.modules.size,l=t.modules.data,c=a+2*r.margin,u=r.color.light.a?"<path "+i(r.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",h="<path "+i(r.color.dark,"stroke")+' d="'+o(l,a,r.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',p=r.width?'width="'+r.width+'" height="'+r.width+'" ':"",f='<svg xmlns="http://www.w3.org/2000/svg" '+p+d+' shape-rendering="crispEdges">'+u+h+"</svg>\n";return"function"===typeof n&&n(null,f),f}},9653:function(t,e){function n(t){if("number"===typeof t&&(t=t.toString()),"string"!==typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e="undefined"===typeof t.margin||null===t.margin||t.margin<0?4:t.margin,s=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:s,scale:s?4:i,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){const s=e.getScale(t,n);return Math.floor((t+2*n.margin)*s)},e.qrToImageData=function(t,n,s){const i=n.modules.size,r=n.modules.data,o=e.getScale(i,s),a=Math.floor((i+2*s.margin)*o),l=s.margin*o,c=[s.color.light,s.color.dark];for(let e=0;e<a;e++)for(let n=0;n<a;n++){let u=4*(e*a+n),h=s.color.light;if(e>=l&&n>=l&&e<a-l&&n<a-l){const t=Math.floor((e-l)/o),s=Math.floor((n-l)/o);h=c[r[t*i+s]?1:0]}t[u++]=h.r,t[u++]=h.g,t[u++]=h.b,t[u]=h.a}}},4127:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var s=n(7678),i=n(7394),r=n(2240),o=n(6878),a=n(3037),l=n(6669),c=n(1444),u=n(8860),h=n(4338),d=n(1909),p=(0,s.Z)(o.Z,h.Z,u.Z,l.Z,(0,a.d)("chipGroup"),(0,c.d)("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...u.Z.options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(u.Z.options.computed.isClickable.call(this)||this.chipGroup)}},created(){const t=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];t.forEach((([t,e])=>{this.$attrs.hasOwnProperty(t)&&(0,d.fK)(t,e,this)}))},methods:{click(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter(){const t=[];return this.isActive&&t.push(this.$createElement(r.Z,{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(i.Zq,t)},genClose(){return this.$createElement(r.Z,{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:t=>{t.stopPropagation(),t.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(t){const e=[this.genContent()];let{tag:n,data:s}=this.generateRouteLink();s.attrs={...s.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:s.attrs.tabindex},s.directives.push({name:"show",value:this.active}),s=this.setBackgroundColor(this.color,s);const i=this.textColor||this.outlined&&this.color;return t(n,this.setTextColor(i,s),e)}})}}]);